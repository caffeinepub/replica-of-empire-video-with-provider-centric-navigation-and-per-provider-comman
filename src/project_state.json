{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 27,
  "summary": "Replica of the Empire Video+ app, extended with a provider-centric UI where each AI provider has its own dedicated page with its own chatbot/command box and provider-specific options/workflows tailored to that provider’s capabilities, with real provider API integrations once keys are uploaded, branded as “Empire C.C” with a global footer credit and an in-app Terms & Conditions page.",
  "architectural_notes": [
    "Adopt a provider-module architecture (routing + UI + services per provider) so each provider page can be isolated while sharing common components.",
    "Persist chatbot context/history per provider (separate storage namespaces/keys per provider) to prevent cross-provider context mixing.",
    "Provider registry should be data-driven and support both fixed providers and user-configurable custom slots (name + key) as first-class entries.",
    "Each provider page should include a capability summary/list specific to that provider (even if initially static/placeholder).",
    "Make provider pages capability-driven: render provider-specific UI modules/workflows (e.g., app builder, video generator) based on provider capability metadata rather than a one-size-fits-all page.",
    "Maintain a per-provider library of recommended prompt templates tied to capabilities and surface them contextually on each provider page.",
    "Replace 'Not Integrated Yet' placeholders with capability-driven provider execution adapters/services so provider pages can perform real API calls once credentials are present (including multi-model selection support where applicable).",
    "Owner/admin API keys should be stored server-side and never exposed to non-owner users; runtime selects user key first, otherwise falls back to owner key for that provider.",
    "Add a password-protected Admin panel for managing owner keys, referral links, and promo codes; Admin-only authorization required for all related backend APIs.",
    "Generation runs should have cancellable lifecycle support where providers allow it; cancellation is scoped to current user + provider and reflected in UI state/history."
  ],
  "known_issues": [
    "Fal.ai provider is not working (provider page/flow failing to function as expected).",
    "Fal.ai upload/action fails with error \"Actor is not available\" when trying to use/upload with Fal.ai key.",
    "Fal.ai key save can fail when backend canister is stopped (Reject code 5 / IC0508), causing 'Actor is not available' errors until actor/canister is running.",
    "Image generation UI is currently a placeholder ('Not Integrated Yet'); clicking Generate does not call provider APIs (e.g., Fal.ai) yet.",
    "Fal.ai image generation can get stuck on 'loading' after clicking Generate even with a valid saved key."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-provider-hub-navigation-ui-that-lists-all-supported-ai-api-providers-in-a-tabboard-or-vertical-tab-list-selecting-a-provider-must-navigate-to-that-provider-s-dedicated-page",
      "title": "Create a provider hub navigation UI that lists all supported AI/API providers in a tabboard (or vertical tab list). Selecting a provider must navigate to that provider’s dedicated page.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-display-a-concrete-default-list-of-ai-api-providers-to-include-in-the-provider-hub-at-minimum-including-openai-ltx-replicate-runpod-slack-the-provider-list-must-be-data-driven-single-source-of-truth-so-adding-removing-providers-does-not-require-editing-multiple-ui-files",
      "title": "Define and display a concrete default list of AI/API providers to include in the provider hub, at minimum including: OpenAI, LTX, Replicate, RunPod, Slack. The provider list must be data-driven (single source of truth) so adding/removing providers does not require editing multiple UI files.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-dedicated-page-for-each-provider-openai-page-ltx-page-replicate-page-runpod-page-slack-page-each-provider-page-must-operate-only-that-provider-s-tools-flows-and-must-not-show-controls-that-are-specific-to-other-providers",
      "title": "Implement a dedicated page for each provider (OpenAI page, LTX page, Replicate page, RunPod page, Slack page). Each provider page must operate only that provider’s tools/flows and must not show controls that are specific to other providers.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-per-provider-chatbot-command-center-on-each-provider-page-the-chatbot-must-maintain-isolated-conversation-context-history-per-provider-e-g-openai-chat-history-does-not-appear-on-ltx-page",
      "title": "Add a per-provider “Chatbot Command Center” on each provider page. The chatbot must maintain isolated conversation context/history per provider (e.g., OpenAI chat history does not appear on LTX page).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-per-provider-api-key-management-so-each-provider-page-can-view-add-update-its-own-api-key-and-usage-on-that-page-uses-only-that-provider-s-key-keys-must-be-stored-per-authenticated-user-and-must-not-be-exposed-in-the-ui-beyond-entry-edit-views",
      "title": "Implement per-provider API key management so each provider page can view/add/update its own API key, and usage on that page uses only that provider’s key. Keys must be stored per authenticated user and must not be exposed in the UI beyond entry/edit views.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-replicate-the-described-empire-video-functional-areas-as-a-baseline-while-adapting-the-ui-to-the-provider-centric-layout-authentication-user-system-key-vault-ai-asset-generation-flows-assistant-chat-memory-brain-studio-tools-motion-brush-magic-script-history-gallery-admin-panel-links-dashboard-where-a-capability-was-previously-stubbed-coming-soon-keep-it-visibly-labeled-as-unavailable-rather-than-silently-failing",
      "title": "Replicate the described “Empire Video+” functional areas (as a baseline) while adapting the UI to the provider-centric layout: Authentication & user system; key vault; AI asset generation flows; assistant chat; memory/brain; studio tools (motion brush, magic script, history gallery); admin panel; links dashboard. Where a capability was previously stubbed/coming-soon, keep it visibly labeled as unavailable rather than silently failing.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-visual-theme-across-the-app-colors-typography-layout-spacing-appropriate-for-an-ai-command-center-product-avoiding-a-blue-purple-dominant-palette-the-theme-must-be-used-consistently-across-provider-hub-provider-pages-chat-and-dashboards",
      "title": "Apply a coherent visual theme across the app (colors, typography, layout, spacing) appropriate for an “AI command center” product, avoiding a blue/purple-dominant palette. The theme must be used consistently across provider hub, provider pages, chat, and dashboards.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-global-app-layout-responsive-on-small-screens-by-replacing-the-always-visible-left-provider-sidebar-with-a-mobile-friendly-pattern-collapsed-by-default-while-keeping-the-existing-desktop-sidebar-behavior",
      "title": "Make the global app layout responsive on small screens by replacing the always-visible left provider sidebar with a mobile-friendly pattern (collapsed by default) while keeping the existing desktop sidebar behavior.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-topnav-to-be-mobile-responsive-prevent-horizontal-overflow-ensure-primary-navigation-remains-usable-on-small-screens-and-keep-authentication-controls-accessible",
      "title": "Update the TopNav to be mobile responsive: prevent horizontal overflow, ensure primary navigation remains usable on small screens, and keep authentication controls accessible.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-mobile-responsiveness-of-page-layouts-that-use-fixed-containers-and-grids-providerhubpage-keyvaultpage-provider-pages-by-adjusting-padding-typography-scale-and-grid-breakpoints-for-small-screens",
      "title": "Improve mobile responsiveness of page layouts that use fixed containers and grids (ProviderHubPage, KeyVaultPage, provider pages) by adjusting padding, typography scale, and grid breakpoints for small screens.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-make-chatbotcommandcenter-usable-on-mobile-by-removing-the-fixed-600px-height-on-small-screens-ensuring-the-message-list-and-composer-behave-well-with-the-on-screen-keyboard-and-improving-touch-target-ergonomics",
      "title": "Make ChatbotCommandCenter usable on mobile by removing the fixed 600px height on small screens, ensuring the message list and composer behave well with the on-screen keyboard, and improving touch-target ergonomics.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-key-management-ui-providerkeymanager-is-mobile-friendly-inputs-and-buttons-fit-narrow-widths-button-rows-wrap-stack-appropriately-and-form-spacing-is-optimized-for-touch",
      "title": "Ensure key management UI (ProviderKeyManager) is mobile-friendly: inputs and buttons fit narrow widths, button rows wrap/stack appropriately, and form spacing is optimized for touch.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-expand-the-single-source-of-truth-provider-list-to-include-all-user-requested-providers-and-ensure-they-appear-everywhere-providers-are-listed-provider-hub-key-vault-desktop-provider-nav-mobile-provider-nav-providers-to-add-gemini-runway-pika-luma-kling-hailuo-stability-ai-fal-ai-modelscope-leonardo-ai-synthesia-tiktok-shopify-shopify-shop-url-custom-slot-1-custom-slot-2-in-addition-to-existing-replicate-openai-runpod-ltx-slack",
      "title": "Expand the single source-of-truth provider list to include all user-requested providers and ensure they appear everywhere providers are listed (Provider Hub, Key Vault, desktop provider nav, mobile provider nav). Providers to add: Gemini, Runway, Pika, Luma, Kling, Hailuo, Stability AI, Fal.ai, ModelScope, Leonardo AI, Synthesia, TikTok, Shopify, Shopify Shop URL, Custom Slot 1, Custom Slot 2 (in addition to existing Replicate, OpenAI, RunPod, LTX, Slack).",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-dedicated-route-and-page-for-each-newly-added-provider-each-provider-page-must-display-the-provider-name-description-and-a-visible-list-of-capabilities-for-that-provider-and-must-be-reachable-by-clicking-the-provider-from-provider-hub-and-from-the-provider-navigation",
      "title": "Add a dedicated route and page for each newly added provider. Each provider page must display the provider name, description, and a visible list of capabilities for that provider, and must be reachable by clicking the provider from Provider Hub and from the provider navigation.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-two-configurable-custom-provider-slots-custom-slot-1-and-custom-slot-2-that-support-both-a-user-editable-display-name-and-a-key-value-within-the-key-management-ui-the-key-vault-provider-pages-must-use-the-saved-custom-display-name-when-present-anywhere-the-provider-is-shown-for-that-custom-slot",
      "title": "Add two configurable custom provider slots (Custom Slot 1 and Custom Slot 2) that support BOTH a user-editable display name and a key value within the key management UI. The key vault/provider pages must use the saved custom display name (when present) anywhere the provider is shown for that custom slot.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-support-provider-specific-credential-field-labeling-for-providers-that-are-not-strictly-api-keys-specifically-add-a-provider-entry-for-shopify-shop-url-whose-key-credential-input-is-labeled-shop-url-and-accepts-a-url-like-value-text-input-is-acceptable",
      "title": "Support provider-specific credential field labeling for providers that are not strictly “API keys”, specifically: add a provider entry for “Shopify Shop URL” whose key/credential input is labeled “Shop URL” and accepts a URL-like value (text input is acceptable).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-frontend-data-flow-for-custom-slot-display-names-using-react-query-so-that-setting-a-custom-slot-name-updates-all-relevant-ui-provider-cards-nav-provider-page-header-without-requiring-a-full-reload",
      "title": "Wire frontend data flow for custom slot display names using React Query so that setting a custom slot name updates all relevant UI (provider cards, nav, provider page header) without requiring a full reload.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-provider-specific-workflow-configuration-to-the-single-source-of-truth-provider-registry-so-each-provider-can-declare-a-a-workflow-type-e-g-app-building-video-generation-image-generation-chat-integration-b-the-provider-specific-option-fields-to-show-on-its-page-and-c-a-set-of-recommended-prompt-templates-for-that-provider",
      "title": "Add provider-specific workflow configuration to the single source-of-truth provider registry so each provider can declare: (a) a workflow type (e.g., app building, video generation, image generation, chat/integration), (b) the provider-specific option fields to show on its page, and (c) a set of recommended prompt templates for that provider.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-reusable-recommended-prompts-ui-on-provider-pages-that-lists-the-provider-s-recommended-prompt-templates-and-allows-users-to-insert-a-selected-template-into-that-provider-s-command-box-input-for-quick-sending-editing",
      "title": "Implement a reusable “Recommended Prompts” UI on provider pages that lists the provider’s recommended prompt templates and allows users to insert a selected template into that provider’s command box input for quick sending/editing.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-add-capability-driven-provider-tools-options-sections-to-provider-pages-so-that-the-page-layout-and-visible-options-match-what-that-provider-is-capable-of-doing-e-g-app-building-setup-vs-video-generation-setup-while-keeping-a-visible-not-integrated-yet-callout-where-real-provider-execution-is-not-implemented",
      "title": "Add capability-driven “Provider Tools/Options” sections to provider pages so that the page layout and visible options match what that provider is capable of doing (e.g., app-building setup vs. video-generation setup), while keeping a visible “Not integrated yet” callout where real provider execution is not implemented.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-generic-provider-route-providers-providerid-renders-the-same-capability-driven-command-box-recommended-prompts-provider-tools-options-as-dedicated-provider-pages-so-newly-added-providers-automatically-get-an-appropriate-page-experience-without-requiring-a-bespoke-page-file",
      "title": "Ensure the generic provider route (/providers/$providerId) renders the same capability-driven command box + recommended prompts + provider tools/options as dedicated provider pages, so newly added providers automatically get an appropriate page experience without requiring a bespoke page file.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-diagnose-and-fix-the-fal-ai-provider-experience-so-that-navigating-to-fal-ai-reliably-renders-a-working-provider-page-genericproviderpage-including-key-management-recommended-prompts-if-configured-chat-history-and-provider-tools-options-without-runtime-errors",
      "title": "Diagnose and fix the Fal.ai provider experience so that navigating to Fal.ai reliably renders a working provider page (GenericProviderPage), including key management, recommended prompts (if configured), chat history, and provider tools/options without runtime errors.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-route-alias-so-that-the-common-shorthand-path-providers-fal-navigates-to-the-existing-fal-ai-provider-route-providers-fal-ai-without-changing-the-provider-registry-ids",
      "title": "Add a route alias so that the common shorthand path \"/providers/fal\" navigates to the existing Fal.ai provider route \"/providers/fal-ai\" (without changing the provider registry IDs).",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-user-facing-error-handling-on-genericproviderpage-for-unknown-provider-ids-by-including-the-requested-providerid-in-the-message-and-offering-a-clear-next-step-e-g-go-back-to-provider-hub-use-english-for-all-user-facing-text",
      "title": "Improve user-facing error handling on GenericProviderPage for unknown provider IDs by including the requested providerId in the message and offering a clear next step (e.g., go back to Provider Hub). Use English for all user-facing text.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-actor-initialization-flow-so-the-backend-actor-reliably-becomes-available-for-authenticated-users-including-on-the-fal-ai-provider-page-and-does-not-remain-null-due-to-initialization-errors",
      "title": "Fix the actor initialization flow so the backend actor reliably becomes available for authenticated users (including on the Fal.ai provider page) and does not remain null due to initialization errors.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-provider-key-saving-from-failing-with-a-generic-actor-not-available-error-by-gating-key-mutations-on-actor-readiness-and-providing-a-user-friendly-english-message-when-the-actor-is-still-connecting-or-unavailable",
      "title": "Prevent provider key saving from failing with a generic 'Actor not available' error by gating key mutations on actor readiness and providing a user-friendly English message when the actor is still connecting or unavailable.",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-error-visibility-for-actor-dependent-react-query-hooks-so-that-failures-to-create-use-the-actor-surface-actionable-information-in-the-ui-rather-than-silently-causing-actor-dependent-actions-to-fail-later",
      "title": "Improve error visibility for actor-dependent React Query hooks so that failures to create/use the actor surface actionable information in the UI rather than silently causing actor-dependent actions to fail later.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-user-facing-error-handling-for-backend-call-failures-that-return-reject-code-5-ic0508-canister-is-stopped-so-the-ui-shows-a-clear-english-explanation-and-next-steps-instead-of-the-raw-replica-rejection-payload",
      "title": "Improve user-facing error handling for backend call failures that return 'Reject code: 5' / 'IC0508' / 'Canister … is stopped' so the UI shows a clear English explanation and next steps instead of the raw replica rejection payload.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-update-providerkeymanager-to-classify-and-display-backend-errors-from-the-save-mutation-in-a-user-friendly-way-including-a-dedicated-handling-path-for-ic0508-reject-code-5-errors-and-to-keep-the-user-in-a-recoverable-state-no-stuck-spinners-actionable-retry-guidance",
      "title": "Update ProviderKeyManager to classify and display backend errors from the save mutation in a user-friendly way, including a dedicated handling path for IC0508/Reject code 5 errors, and to keep the user in a recoverable state (no stuck spinners, actionable retry guidance).",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-extend-backendconnectionalert-to-recognize-and-explain-the-canister-stopped-class-of-errors-ic0508-reject-code-5-with-tailored-english-guidance-and-ensure-it-remains-usable-for-both-authenticated-and-unauthenticated-states",
      "title": "Extend BackendConnectionAlert to recognize and explain the 'canister stopped' class of errors (IC0508 / Reject code: 5) with tailored English guidance, and ensure it remains usable for both authenticated and unauthenticated states.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-actor-dependent-provider-flows-are-gated-on-the-existing-usebackendactor-readiness-signals-isready-isconnecting-so-the-ui-never-attempts-provider-key-mutations-or-provider-chat-mutations-while-still-connecting-and-surfaces-the-still-connecting-to-the-backend-message-instead",
      "title": "Ensure all actor-dependent provider flows are gated on the existing useBackendActor readiness signals (isReady / isConnecting) so the UI never attempts provider-key mutations or provider-chat mutations while still connecting, and surfaces the 'Still connecting to the backend…' message instead.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-placeholder-workflow-ui-disabled-buttons-not-integrated-yet-callouts-with-working-execution-flows-that-run-once-a-provider-credential-is-configured-starting-with-fal-ai-image-generation-and-then-applying-the-same-execute-show-result-download-share-pattern-across-all-providers-according-to-each-provider-s-declared-workflowtype-capabilities",
      "title": "Replace the current placeholder workflow UI (disabled buttons + “Not Integrated Yet” callouts) with working execution flows that run once a provider credential is configured, starting with Fal.ai image generation and then applying the same “execute → show result → download → share” pattern across all providers according to each provider’s declared workflowType/capabilities.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-fal-ai-image-generation-end-to-end-support-prompt-input-multi-model-selection-generate-show-preview-download-and-share-matching-the-workflow-shown-in-the-uploaded-screenshot",
      "title": "Implement Fal.ai image generation end-to-end: support prompt input, multi-model selection, generate, show preview, download, and share, matching the workflow shown in the uploaded screenshot.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-upgrade-providertoolsoptionssection-so-that-for-workflowtype-values-image-generation-video-generation-integration-app-builder-custom-the-primary-action-buttons-are-functional-not-disabled-when-requirements-are-met-and-they-call-the-backend-workflow-execution-apis-using-the-optionfields-as-inputs-excluding-secrets",
      "title": "Upgrade ProviderToolsOptionsSection so that for workflowType values (image-generation, video-generation, integration, app-builder, custom) the primary action buttons are functional (not disabled) when requirements are met, and they call the backend workflow execution APIs using the optionFields as inputs (excluding secrets).",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-reusable-generation-result-ui-pattern-used-by-image-video-workflows-shows-run-status-queued-running-succeeded-failed-progress-messaging-when-available-the-artifact-preview-image-video-and-action-buttons-for-download-share",
      "title": "Implement a reusable “Generation Result” UI pattern used by image/video workflows: shows run status (queued/running/succeeded/failed), progress messaging when available, the artifact preview (image/video), and action buttons for download/share.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-the-same-execution-approach-across-all-providers-declared-in-the-frontend-provider-registry-frontend-src-providers-providers-ts-for-each-provider-render-and-execute-the-workflow-corresponding-to-its-workflowtype-using-backend-execution-apis-so-that-generate-execute-build-app-actions-actually-run-when-keys-are-configured",
      "title": "Apply the same execution approach across all providers declared in the frontend provider registry (frontend/src/providers/providers.ts): for each provider, render and execute the workflow corresponding to its workflowType using backend execution APIs, so that “Generate/Execute/Build App” actions actually run when keys are configured.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-new-workflow-execution-ui-and-hooks-are-gated-on-the-existing-backend-readiness-signals-usebackendactor-isready-isconnecting-and-provider-key-existence-useproviderkey-and-provide-clear-english-messaging-when-the-backend-is-still-connecting-or-unavailable",
      "title": "Ensure all new workflow execution UI and hooks are gated on the existing backend readiness signals (useBackendActor: isReady/isConnecting) and provider key existence (useProviderKey), and provide clear English messaging when the backend is still connecting or unavailable.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-generation-history-section-on-relevant-provider-pages-image-video-workflows-that-lists-recent-runs-for-that-provider-for-the-current-user-and-allows-re-downloading-artifacts-and-reusing-a-run-s-parameters-e-g-reinsert-prompt-model-into-inputs",
      "title": "Add a “Generation History” section on relevant provider pages (image/video workflows) that lists recent runs for that provider for the current user and allows re-downloading artifacts and reusing a run’s parameters (e.g., reinsert prompt/model into inputs).",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-cancel-control-for-a-single-pending-running-image-generation-run-on-the-provider-page-ui-near-the-results-area-the-cancel-action-must-call-the-backend-cancel-api-update-the-ui-state-via-react-query-invalidation-refetch-and-show-an-english-toast-error-message-if-it-is-too-late-to-cancel",
      "title": "Add a Cancel control for a single pending/running image-generation run on the provider page UI near the results area. The Cancel action must call the backend cancel API, update the UI state via React Query invalidation/refetch, and show an English toast/error message if it is too late to cancel.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clear-pending-action-for-fal-ai-that-clears-all-pending-running-runs-for-the-current-user-with-buttons-available-1-in-the-fal-ai-workflow-results-area-and-2-in-the-generation-history-area-the-action-must-only-apply-to-fal-ai-and-must-not-impact-other-providers",
      "title": "Add a \"Clear Pending\" action for Fal.ai that clears all pending/running runs for the current user, with buttons available (1) in the Fal.ai workflow/results area and (2) in the Generation History area. The action must only apply to Fal.ai and must not impact other providers.",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-add-positive-prompt-and-negative-prompt-inputs-to-the-fal-ai-image-generation-workflow-ui-and-ensure-they-are-incorporated-into-the-effective-prompt-sent-for-fal-ai-generation-in-a-consistent-predictable-way",
      "title": "Add Positive Prompt and Negative Prompt inputs to the Fal.ai image generation workflow UI, and ensure they are incorporated into the effective prompt sent for Fal.ai generation in a consistent, predictable way.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-provider-registry-config-so-fal-ai-image-generation-declares-the-needed-option-fields-including-positive-prompt-and-negative-prompt-and-the-fal-ai-page-renders-them-through-the-existing-capability-driven-workflow-ui-providertoolsoptionssection-generationhistory",
      "title": "Update the provider registry/config so Fal.ai image generation declares the needed option fields (including Positive Prompt and Negative Prompt) and the Fal.ai page renders them through the existing capability-driven workflow UI (ProviderToolsOptionsSection + GenerationHistory).",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-add-pwa-metadata-to-the-app-shell-so-modern-browsers-recognize-the-site-as-installable-including-a-web-app-manifest-link-theme-color-and-platform-icon-links",
      "title": "Add PWA metadata to the app shell so modern browsers recognize the site as installable, including a web app manifest link, theme-color, and platform icon links.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-valid-web-app-manifest-file-that-defines-the-app-name-short-name-start-url-display-mode-theme-background-colors-and-an-icon-set-including-a-maskable-icon-so-the-app-installs-with-a-proper-home-screen-icon",
      "title": "Create a valid Web App Manifest file that defines the app name, short name, start URL, display mode, theme/background colors, and an icon set (including a maskable icon) so the app installs with a proper home-screen icon.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-service-worker-that-caches-the-core-app-shell-for-offline-poor-network-resilience-and-register-it-at-runtime-without-modifying-immutable-frontend-files",
      "title": "Add a service worker that caches the core app shell for offline/poor-network resilience and register it at runtime without modifying immutable frontend files.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-an-in-app-install-prompt-ux-that-listens-for-the-beforeinstallprompt-event-and-offers-an-explicit-install-action-when-available-with-a-clear-fallback-message-when-installation-is-not-supported",
      "title": "Implement an in-app install prompt UX that listens for the `beforeinstallprompt` event and offers an explicit Install action when available, with a clear fallback message when installation is not supported.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-required-pwa-icon-image-assets-as-static-files-under-frontend-public-assets-generated-and-wire-them-into-the-manifest-and-html-icon-links",
      "title": "Add the required PWA icon image assets as static files under `frontend/public/assets/generated/` and wire them into the manifest and HTML icon links.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-global-footer-that-appears-on-every-page-render-inside-the-app-shell-including-provider-pages-admin-panel-and-unauthenticated-login-and-initializing-screens-displaying-exactly-licensed-and-created-by-seale-s-empire",
      "title": "Add a global footer that appears on every page render inside the app shell (including provider pages, admin panel, and unauthenticated/login and initializing screens) displaying exactly: \"licensed and created by Seale's Empire\".",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-dedicated-terms-conditions-page-using-app-created-placeholder-english-content-and-make-it-accessible-via-navigation-from-anywhere-in-the-app-at-minimum-via-a-footer-link-labeled-terms-conditions",
      "title": "Create a dedicated Terms & Conditions page using app-created placeholder English content, and make it accessible via navigation from anywhere in the app (at minimum, via a footer link labeled \"Terms & Conditions\").",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-rename-the-application-to-empire-c-c-everywhere-the-current-app-name-appears-including-browser-tab-title-top-navigation-brand-text-authentication-login-screen-text-that-references-the-app-name-and-pwa-manifest-metadata-name-short-name-description-as-applicable",
      "title": "Rename the application to \"Empire C.C\" everywhere the current app name appears, including: browser/tab title, top navigation brand text, authentication/login screen text that references the app name, and PWA manifest metadata (name/short_name/description as applicable).",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-use-the-third-uploaded-image-openai-playground-2026-02-09-at-00-55-58-1-png-as-the-official-empire-c-c-logo-and-generate-a-resized-icon-set-as-static-assets-under-frontend-public-assets-generated-replacing-the-existing-app-icon-images-used-by-the-pwa-and-the-ui",
      "title": "Use the third uploaded image (\"OpenAI Playground 2026-02-09 at 00.55.58-1.png\") as the official Empire C.C logo and generate a resized icon set as static assets under `frontend/public/assets/generated/`, replacing the existing app icon images used by the PWA and the UI.",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-pwa-icon-references-so-the-installed-pwa-uses-the-new-logo-ensure-frontend-public-manifest-webmanifest-icon-entries-and-frontend-index-html-favicon-apple-touch-icon-links-correctly-point-to-the-generated-assets-and-render-the-new-logo-after-a-hard-refresh",
      "title": "Update all PWA icon references so the installed PWA uses the new logo: ensure `frontend/public/manifest.webmanifest` icon entries and `frontend/index.html` favicon/apple-touch-icon links correctly point to the generated assets and render the new logo after a hard refresh.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-all-in-app-ui-branding-logo-placements-with-the-new-logo-asset-derived-from-the-third-uploaded-image-including-the-topnav-logo-image-and-the-unauthenticated-login-experience-so-the-app-visually-uses-the-same-logo-everywhere-branding-is-shown",
      "title": "Replace all in-app UI branding/logo placements with the new logo asset (derived from the third uploaded image), including the TopNav logo image and the unauthenticated/login experience so the app visually uses the same logo everywhere branding is shown.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Provider hub UI: list/tab board of all supported AI API providers; selecting a provider navigates to its dedicated page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Dedicated per-provider pages (e.g., OpenAI, LTX, Replicate, RunPod, Slack, etc.) that operate only that provider’s tooling and flows",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Per-provider chatbot command center with isolated context/history per provider page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Per-provider API key management: separate key page/section for each provider tied to its provider command center",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Improve mobile friendliness: make the app responsive and usable on small screens (provider hub, provider pages, chatbot command center, key management, dashboards)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add two configurable “Custom Slot” provider entries with per-provider API key fields for both a display name and key value (Custom Slot 1, Custom Slot 2)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Expand the provider hub/default provider list to include additional providers (Gemini, Runway, Pika, Luma, Kling, Hailuo, Stability AI, Fal.ai, ModelScope, Leonardo AI, Synthesia, TikTok, Shopify, Shopify Shop URL) and ensure each provider routes to its own page that lists its capabilities",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Update the backend data model and APIs to persist per-user custom slot metadata (at minimum: custom slot display name for Custom Slot 1 and Custom Slot 2) alongside existing per-user provider key storage, with authorization checks consistent with existing key/profile methods.",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Provider-specific capability-driven page layouts and workflows: each provider page should expose tools/options aligned to that provider’s capabilities (e.g., app-builder setup, video generation with download/send actions) and include recommended prompt templates per provider",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Implement real provider workflow execution (not placeholders) once keys are uploaded, starting with Fal.ai image generation (prompt, model selection/multi-model, generate, download/share) and replicating capability-appropriate workflows across all providers",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Implement backend workflow execution APIs (single-actor Motoko) that allow the frontend to request provider workflow runs (image/video/integration/app-builder), while keeping provider credentials stored only in the backend and never returning stored secret values to the UI.",
      "reqIds": [
        "REQ-34"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Add backend state for per-user workflow run history (per provider) including request parameters (non-secret), timestamps, status, error (sanitized), and references to any stored output artifacts (e.g., image/video blobs) so users can download/share after generation completes.",
      "reqIds": [
        "REQ-35"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Use canister-side storage for generated artifacts (images/videos) so download/share works without requiring the frontend to store provider keys or call third-party providers directly from the browser.",
      "reqIds": [
        "REQ-36"
      ],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Add cancel control for in-progress/queued image generation runs per provider (current user only): show Cancel next to results area; attempt backend cancel if supported, otherwise allow run to finish and show 'too late to cancel' error",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Improve Links page UX: add form with link description + URL input + Save; saved items drop into their own cards/boxes with copy/send + edit/delete options; original input resets to allow adding more links",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Add password-protected owner/admin API keys (global fallback keys) stored in Admin panel: when a user lacks their own provider key, app uses owner key for that provider and tracks/bills usage to owner; user keys override owner keys",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add a password-protected Admin/Access panel for app owner to manage promotional codes, owner API keys, referral links, and related administrative settings",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Add per-provider referral link area on each provider page (editable in Admin panel) so users can click to obtain their own key; if user enters their own key, usage switches from owner key billing to user key",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add an in-app AI assistant/help navigator to guide users to features and explain how to use the app’s AI tools/workflows",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Fal.ai page: add 'Clear Pending' action to clear all queued/running Fal image jobs for the current user (buttons in both workflow area and history area)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Fal.ai page: add Positive Prompt and Negative Prompt inputs and incorporate them into the prompt sent to Fal generation (implementation details per best UX)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Add backend support to cancel a single pending/running workflow run for the current authenticated user for a specific provider (used for Fal.ai image generation). If the run is no longer cancelable (already succeeded/failed), the call must fail with an English error message indicating it was too late to cancel and that the generation may already be finished.",
      "reqIds": [
        "REQ-43"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Add backend support to clear all pending/running workflow runs for the current authenticated user for a specific provider (Fal.ai). Clearing must only affect the caller’s runs for that provider.",
      "reqIds": [
        "REQ-44"
      ],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Upgrade the web app to full PWA support: installability with an app icon, manifest + service worker, install prompt, and proper app icons for supported platforms",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add a global footer on all pages displaying: \"licensed and created by Seale's Empire\" (including provider pages, admin panels, and login/auth screens)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add a Terms & Conditions page (app-created placeholder content) and make it accessible in the app navigation (e.g., footer link)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Rename the app to \"Empire C.C\" everywhere the current name appears (UI headers, browser title, manifest/PWA metadata, and any other branding locations)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Set the official Empire C.C logo to the user’s 3rd uploaded image; generate resized variants to replace the entire PWA icon set and replace all in-app UI branding/logo placements with this asset",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Empire C.C",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}